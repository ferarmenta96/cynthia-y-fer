<!-- index.html - Nuestra Historia Interactiva: Fer & Cynthia -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fer & Cynthia: Nuestra Historia ğŸ’–</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="container">
    <div id="scene">
      <p id="text"></p>
      <div id="choices" class="choices"></div>
    </div>
  </div>
  <audio id="bg-music" src="/static/music.mp3" autoplay loop></audio>
  <script>
    const scenes = [
      {
        text: "Hola, soy Fer... Â¿Te acuerdas del primer mensaje que te mandÃ©? Yo sÃ­. Fue algo como: â€˜Â¿Te gustan los tacos? Porque yo tengo antojo... de ti ğŸ˜â€™.",
        choices: [
          { text: "Jajaja sÃ­, me reÃ­ como loca", next: 1 },
          { text: "Ay no Fer, quÃ© oso ğŸ™ˆ", next: 1 }
        ]
      },
      {
        text: "Desde ese dÃ­a nuestras risas no han parado. Â¿Te acuerdas cuando me dijiste que eras sagitario y yo dije â€˜soy Aries, fuego y fuegoâ€™?",
        choices: [
          { text: "SÃ­, pensÃ©: este niÃ±o va en serio ğŸ”¥", next: 2 },
          { text: "SÃ­, pero igual no me gustaban los horÃ³scopos ğŸ˜‚", next: 2 }
        ]
      },
      {
        text: "Y asÃ­ empezÃ³ todo. Entre tacos, audios, risas y esas plÃ¡ticas hasta que uno de los dos se dormÃ­a. Como esa noche que te escribÃ­ 'Â¿estÃ¡s despierta?' y me dejaste en visto porque ya roncabas ğŸ’¤",
        choices: [
          { text: "Jajajaja sÃ­, me dio pena luego", next: 3 },
          { text: "No me acuerdo pero suena a mÃ­ ğŸ˜…", next: 3 }
        ]
      },
      {
        text: "Ahora, un reto para ti: Â¿DÃ³nde cenamos con tus papÃ¡s por primera vez?",
        choices: [
          { text: "Taco Palenque", next: 4 },
          { text: "La Estrella", next: 4 },
          { text: "Calaca", next: 4 }
        ]
      },
      {
        text: "SÃ­, Â¡Taco Palenque! Lo sabÃ­a. Esa noche pensÃ©: â€˜Ella es todo lo que quieroâ€™. Y hoy, sigo pensÃ¡ndolo cada vez que sonrÃ­es.",
        choices: [
          { text: "ğŸ¥¹ Yo tambiÃ©n lo sentÃ­ asÃ­...", next: 5 }
        ]
      },
      {
        text: "Cynthia:",
        choices: [],
        ending: true,
        textFinal: `Eres mi risa favorita, mi persona favorita, mi compaÃ±era de tacos, de sueÃ±os y de vida.
        Cada dÃ­a contigo me enseÃ±a algo nuevo sobre el amor verdadero.
        Si tuviera que escribir nuestra historia mil veces, todas empezarÃ­an contigo.
        Te amo con todo lo que soy, y un poco mÃ¡s cada dÃ­a. â¤ï¸` 
      }
    ];

    let current = 0;
    const text = document.getElementById("text");
    const choices = document.getElementById("choices");

    function renderScene(index) {
      const scene = scenes[index];
      text.innerHTML = '';
      choices.innerHTML = '';

      if (scene.ending) {
        text.innerHTML = `<h2>Final ğŸ’–</h2><p>${scene.textFinal}</p>`;
        return;
      }

      let i = 0;
      const interval = setInterval(() => {
        text.innerHTML += scene.text.charAt(i);
        i++;
        if (i >= scene.text.length) clearInterval(interval);
      }, 30);

      scene.choices.forEach(choice => {
        const btn = document.createElement("button");
        btn.textContent = choice.text;
        btn.onclick = () => renderScene(choice.next);
        choices.appendChild(btn);
      });
    }

    renderScene(current);
  </script>
</body>
</html>
